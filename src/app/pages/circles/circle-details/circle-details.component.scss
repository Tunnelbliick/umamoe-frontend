.circle-details-page {
  min-height: calc(100vh - 60px);
  background: #121212;
  padding-bottom: 2rem;
}

.page-header {
  background: linear-gradient(135deg, rgba(100, 181, 246, 0.1) 0%, rgba(129, 199, 132, 0.1) 100%);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding: 2rem 0;
  margin-bottom: 2rem;
}

  .header-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1.5rem;

    .header-top {
      display: flex;
      align-items: center;
      gap: 1rem;
      height: 42px; // Fixed height for alignment

    .back-btn {
      color: rgba(255, 255, 255, 0.7);
      border: none;
      background: transparent;
      height: 42px;
      width: 42px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background-color 0.2s, color 0.2s;
      
      &:hover {
        background: rgba(255, 255, 255, 0.1);
        color: #fff;
      }

      mat-icon {
        font-size: 24px;
        width: 24px;
        height: 24px;
      }
    }      .title-section {
        display: flex;
        align-items: center;
        gap: 1rem;
        height: 100%;

        h1 {
          font-size: 2rem; // Reduced from 2.5rem for better proportion
          font-weight: 700;
          margin: 0;
          line-height: 1;
          color: #fff;
          background: linear-gradient(45deg, #64b5f6, #81c784);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          display: flex;
          align-items: center;
        }

        .badges {
          display: flex;
          gap: 0.5rem;
          align-items: center;
          height: 100%;

          .badge {
            padding: 0 12px;
            height: 32px; // Fixed height
            display: flex;
            align-items: center;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 600;
            
            &.rank-badge {
              background: rgba(100, 181, 246, 0.2);
              color: #90caf9;
              border: 1px solid rgba(100, 181, 246, 0.3);
            }
            
            &.members-badge {
              background: rgba(255, 255, 255, 0.1);
              color: rgba(255, 255, 255, 0.8);
              border: 1px solid rgba(255, 255, 255, 0.1);
            }
          }
        }
      }
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
      height: 42px; // Match header-top height

      .month-nav {
        display: flex;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 0 4px;
        height: 42px;

        button {
          color: rgba(255, 255, 255, 0.7);
          height: 32px !important;
          width: 32px !important;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 0;
          
          mat-icon {
            font-size: 20px;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
          }
          
          &:hover {
            color: #fff;
          }
        }

        .current-month {
          color: #fff;
          font-weight: 600;
          padding: 0 1rem;
          min-width: 100px;
          text-align: center;
          font-size: 0.95rem;
          display: flex;
          align-items: center;
          justify-content: center;
          height: 100%;
        }
      }

      .export-btn {
        height: 42px; // Match height
        color: #81c784;
        border-color: rgba(129, 199, 132, 0.5);
        font-weight: 600;
        
        &:hover {
          background: rgba(129, 199, 132, 0.1);
        }
      }
    }
  }.content-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.top-grid {
  display: grid;
  grid-template-columns: 350px 1fr;
  gap: 1.5rem;

  @media (max-width: 1000px) {
    grid-template-columns: 1fr;
  }
}

.details-card {
  background: #1e1e1e;
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;

  .card-header {
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;

    h2 {
      margin: 0;
      font-size: 1.1rem;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.9);
      display: flex;
      align-items: center;
      gap: 0.75rem;

      mat-icon {
        color: #64b5f6;
      }
    }
  }

  .card-content {
    padding: 0rem 1.5rem 1rem;
    flex: 1;

    &.no-padding {
      padding: 0;
    }
  }
}

.info-card .card-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;

  .info-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);

    &:last-child {
      border-bottom: none;
      padding-bottom: 0;
    }

    &.description {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;

      .value {
        color: rgba(255, 255, 255, 0.7);
        line-height: 1.6;
        font-size: 0.95rem;
      }
    }

    .label {
      color: rgba(255, 255, 255, 0.5);
      font-size: 0.9rem;
    }

    .value {
      color: rgba(255, 255, 255, 0.9);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;

      a {
        color: #64b5f6;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: color 0.2s;

        &:hover {
          color: #90caf9;
          text-decoration: underline;
        }
      }

      .discord-link {
        color: #7289da;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        text-decoration: none;
        
        &:hover {
          text-decoration: underline;
        }
      }
      
      &.join-style {
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        
        &.open {
          background: rgba(129, 199, 132, 0.1);
          color: #81c784;
          border: 1px solid rgba(129, 199, 132, 0.2);
        }
        
        &.approval {
          background: rgba(255, 183, 77, 0.1);
          color: #ffb74d;
          border: 1px solid rgba(255, 183, 77, 0.2);
        }
        
        &.closed {
          background: rgba(229, 115, 115, 0.1);
          color: #e57373;
          border: 1px solid rgba(229, 115, 115, 0.2);
        }
      }
    }
  }
}

.chart-container {
  height: 300px;
  width: 100%;
  position: relative;
}

.full-width-chart {
  grid-column: 1 / -1;
  
  .chart-wrapper {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    height: 100%;
    min-height: 550px;
    
    .chart-area {
      flex: 1;
      min-height: 400px;
      position: relative;
    }
    
    .chart-legend {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 0.5rem;
      
      .legend-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 4px 8px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.2s, border-color 0.2s;
        user-select: none;
        background: rgba(0, 0, 0, 0.2);
        border: 1px solid transparent;
        
        &:hover {
          background: rgba(0, 0, 0, 0.5);
          border-color: rgba(0, 0, 0, 1);
        }
        
        &.hidden {
          opacity: 0.4;
          text-decoration: line-through;
        }
        
        .color-indicator {
          width: 12px;
          height: 12px;
          border-radius: 2px;
          flex-shrink: 0;
        }
        
        .name {
          font-size: 0.85rem;
          color: rgba(255, 255, 255, 0.8);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
      }
    }
  }
}

.members-section-header {
  margin-bottom: 0.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;

  h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #fff;
    margin: 0;
  }

  .settings-btn {
    color: rgba(255, 255, 255, 0.7);
    
    &:hover {
      color: #fff;
      background: rgba(255, 255, 255, 0.1);
    }
  }
}

.members-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1rem;
  grid-column: 1 / -1;

  .member-card {
    background: #1e1e1e;
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 0.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    transition: transform 0.2s, border-color 0.2s;

    &:hover {
      transform: translateY(-2px);
      border-color: rgba(100, 181, 246, 0.3);
    }
    
    &.inactive {
      opacity: 0.6;
      border-style: dashed;
      
      &:hover {
        opacity: 0.8;
      }
    }

    // Rank Styles
    &.rank-1 {
      border-color: rgba(255, 215, 0, 0.5);
      background: linear-gradient(145deg, rgba(255, 215, 0, 0.05), #1e1e1e);
      
      .member-header .rank, .member-header .name {
        color: #ffd700; // Gold
      }
    }

    &.rank-2 {
      border-color: rgba(144, 164, 174, 0.5);
      background: linear-gradient(145deg, rgba(144, 164, 174, 0.05), #1e1e1e);
      
      .member-header .rank, .member-header .name {
        color: #90a4ae; // Darker Silver / Blue Grey
      }
    }

    &.rank-3 {
      border-color: rgba(205, 127, 50, 0.5);
      background: linear-gradient(145deg, rgba(205, 127, 50, 0.05), #1e1e1e);
      
      .member-header .rank, .member-header .name {
        color: #cd7f32; // Bronze
      }
    }

    .member-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);

      .rank {
        font-size: 1.1rem;
        font-weight: 700;
        color: #fff;
        min-width: 25px;
      }

      .name {
        font-size: 0.95rem;
        font-weight: 600;
        color: #fff;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-right: auto;
      }

      .role-badge {
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.65rem;
        text-transform: uppercase;
        font-weight: 600;
        white-space: nowrap;
        
        &.leader {
          background: rgba(255, 167, 38, 0.15);
          color: #ffa726;
          border: 1px solid rgba(255, 167, 38, 0.3);
        }
        
        &.sub-leader {
          background: rgba(102, 187, 106, 0.15);
          color: #66bb6a;
          border: 1px solid rgba(102, 187, 106, 0.3);
        }
        
        &.member {
          background: rgba(255, 255, 255, 0.05);
          color: rgba(255, 255, 255, 0.5);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }
      }
      
      .status-badge {
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.65rem;
        text-transform: uppercase;
        font-weight: 600;
        white-space: nowrap;
        
        &.inactive {
          background: rgba(244, 67, 54, 0.15);
          color: #ef5350;
          border: 1px solid rgba(244, 67, 54, 0.3);
        }
      }
    }

    .member-stats {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;

      .stat-row {
        display: flex;
        justify-content: space-between;
        align-items: center;

        &.highlight-stat {
          background: rgba(255, 255, 255, 0.03);
          margin: 0.25rem -0.75rem;
          padding: 0.25rem 0.75rem;
          border-top: 1px solid rgba(255, 255, 255, 0.03);
          border-bottom: 1px solid rgba(255, 255, 255, 0.03);
          
          .label {
            color: #64b5f6;
            font-weight: 500;
          }
          
          .value {
            font-weight: 700;
            font-size: 0.9rem;
          }
        }

        .label {
          color: rgba(255, 255, 255, 0.5);
          font-size: 0.75rem;
        }

        .value {
          color: rgba(255, 255, 255, 0.9);
          font-weight: 500;
          font-size: 0.85rem;

          &.gain {
            color: rgba(255, 255, 255, 0.3);
            
            &.positive {
              color: #81c784;
            }
          }

          &.date {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
          }
        }
      }
    }
  }
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 400px;
  gap: 16px;
  color: rgba(255, 255, 255, 0.5);
  
  mat-spinner {
    circle {
      stroke: #64b5f6;
    }
  }
}
